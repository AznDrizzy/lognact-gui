{% extends 'template.html' %}
{% block title %} {{_('task list')}} {% endblock %}
{% block work %}
{% set (tasks_list) = results %}
{% set icon_mapping = {
                      'running': 'glyphicon glyphicon-refresh',
                      'ok': 'glyphicon glyphicon-ok',
                      'ko': 'glyphicon glyphicon-exclamation-sign',
                      'disappeared': 'glyphicon glyphicon-question-sign'
                      } %}

<section class = "page_tasks_list">

<div class= "up">

<div class="tasks_list">
  <div class="panel panel-info set_overflow">
    <div class="panel-heading">{{_('Tasks list')}}</div>
      <div class = 'search'>
        <form method="POST" action ="{{ url_for('connection') }}">
          <table>
            <tr>
              <td><input name="nodename" id="nodename" required></td>
              <td><input class='btn btn-default' type="submit" value="{{ _('search by name') }}"><td>
            <tr>
          </table>
        </form>
      </div>
      <div class="table_configured">
        <table class="table table-hover">
          <tr>
            <th class="col1">{{_('Task id')}}</th>
            <th>{{_('PID')}}</th>
            <th>{{_('Start by')}}</th>
            <th>{{_('Command')}}</th>
            <th>{{_('Status')}}</th>
            <th>{{_('Start')}}</th>
            <th>{{_('End')}}</th>
            <th>{{_('Kill task')}}</th>
          </tr>
          {% for task_id, task_data in tasks_list.items() %}
          <tr>
            <td class='col1'>1</td>
            <td>{{task_id}}</td>
            <td>{{task_data.username}}</td>
            <td>{{task_data.command}}</td>
            <td><span  class="{{ icon_mapping[task_data.status] }}"></td>
            <td>{{task_data.start_date}}</td>
            <td>{{task_data.end_date}}</td>
            {% if task_data.status == 'running' %}
            <td><a type="button" class="btn btn-danger" href="/task_list/kill_task/{{ task_id }}">{{_('kill')}}</a></td>
            {% else %}
            <td></td>
            {% endif %}
          </tr>
          {% endfor %}
        </table>
      </div>
    </div>
  </div>
</div>


<div class="down">

  <div class="tasks_log">
    <div class="panel panel-warning set_overflow">
      <div class="panel-heading">{{_('Output')}}</div>
          <div class="table_and_body">
            <table class="table">
              <tr>
                <td>

Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis interdum ipsum elit, non commodo erat finibus nec. Praesent eu porta est. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Proin posuere et ipsum non sagittis. Cras ut arcu id libero lobortis luctus sit amet nec nunc. Donec porttitor metus leo, eu sollicitudin mauris tempor a. Cras cursus rhoncus mi varius ullamcorper. Sed in euismod dolor. Morbi sed magna lorem. Phasellus faucibus libero a nibh luctus, vestibulum sagittis lorem mattis. Suspendisse dapibus arcu elit, eu faucibus urna sagittis vel.

Sed tristique lobortis vestibulum. Curabitur vitae justo in tellus feugiat porta nec in tortor. Donec euismod semper ipsum, nec gravida nisl. Suspendisse semper massa dolor, nec convallis velit varius id. Aliquam pretium feugiat rhoncus. Donec ullamcorper, neque vel euismod fringilla, lacus purus ornare nisl, fermentum dignissim metus ipsum sit amet ipsum. Nulla ultricies orci vitae libero interdum, vel maximus lectus lacinia. Aliquam mollis ac dui at tristique.

Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Etiam dignissim neque ut vehicula faucibus. Nullam egestas commodo interdum. Vivamus non quam eget sem cursus placerat id in sapien. Sed convallis viverra nisl vitae congue. Fusce sagittis ornare ex at ultricies. Morbi malesuada maximus massa vitae finibus. Curabitur porta tincidunt ipsum, eget porta eros mattis ac. Ut tortor ante, gravida vitae venenatis vel, venenatis quis erat. Nunc consectetur ornare turpis ac efficitur. Mauris malesuada augue nec ligula fermentum, quis tincidunt est feugiat. Phasellus rutrum viverra magna. Aenean eu eros vel metus egestas mattis.

Fusce est libero, faucibus in neque eu, lobortis rutrum tortor. Maecenas nunc orci, facilisis non vehicula quis, interdum eget risus. Donec at sem velit. Aliquam erat volutpat. Morbi eu pulvinar neque, nec semper odio. Duis id urna auctor, accumsan est et, luctus metus. Donec molestie justo purus, vel viverra turpis tincidunt molestie. Sed cursus ex et mi vehicula, sit amet euismod risus egestas. Aliquam sagittis ut arcu id congue. Vestibulum iaculis ultrices magna, non porttitor lacus sagittis sed. Interdum et malesuada fames ac ante ipsum primis in faucibus. Nullam sollicitudin neque quis nisl egestas, eget euismod metus fringilla. In ornare porta leo sit amet fringilla. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.

Mauris nec sollicitudin lorem. Sed suscipit erat lectus, id scelerisque nisl aliquet quis. Duis vehicula, quam id suscipit elementum, arcu lectus tempus ligula, non convallis ligula tortor ac magna. In scelerisque mi blandit orci vestibulum, vel ultricies leo pharetra. Aenean vitae tempus massa, in tristique ligula. Proin et vulputate purus, sit amet aliquet felis. Nam venenatis est egestas, placerat nisi ut, luctus odio. Integer eget mattis urna, et iaculis ligula. Morbi eget orci erat. In eget cursus odio. Suspendisse id congue lorem. Nam vitae fringilla elit. Duis sit amet faucibus massa.
Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis interdum ipsum elit, non commodo erat finibus nec. Praesent eu porta est. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Proin posuere et ipsum non sagittis. Cras ut arcu id libero lobortis luctus sit amet nec nunc. Donec porttitor metus leo, eu sollicitudin mauris tempor a. Cras cursus rhoncus mi varius ullamcorper. Sed in euismod dolor. Morbi sed magna lorem. Phasellus faucibus libero a nibh luctus, vestibulum sagittis lorem mattis. Suspendisse dapibus arcu elit, eu faucibus urna sagittis vel. Sed tristique lobortis vestibulum. Curabitur vitae justo in tellus feugiat porta nec in tortor. Donec euismod semper ipsum, nec gravida nisl. Suspendisse semper massa dolor, nec convallis velit varius id. Aliquam pretium feugiat rhoncus. Donec ullamcorper, neque vel euismod fringilla, lacus purus ornare nisl, fermentum dignissim metus ipsum sit amet ipsum. Nulla ultricies orci vitae libero interdum, vel maximus lectus lacinia. Aliquam mollis ac dui at tristique. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Etiam dignissim neque ut vehicula faucibus. Nullam egestas commodo interdum. Vivamus non quam eget sem cursus placerat id in sapien. Sed convallis viverra nisl vitae congue. Fusce sagittis ornare ex at ultricies. Morbi malesuada maximus massa vitae finibus. Curabitur porta tincidunt ipsum, eget porta eros mattis ac. Ut tortor ante, gravida vitae venenatis vel, venenatis quis erat. Nunc consectetur ornare turpis ac efficitur. Mauris malesuada augue nec ligula fermentum, quis tincidunt est feugiat. Phasellus rutrum viverra magna. Aenean eu eros vel metus egestas mattis. Fusce est libero, faucibus in neque eu, lobortis rutrum tortor. Maecenas nunc orci, facilisis non vehicula quis, interdum eget risus. Donec at sem velit. Aliquam erat volutpat. Morbi eu pulvinar neque, nec semper odio. Duis id urna auctor, accumsan est et, luctus metus. Donec molestie justo purus, vel viverra turpis tincidunt molestie. Sed cursus ex et mi vehicula, sit amet euismod risus egestas. Aliquam sagittis ut arcu id congue. Vestibulum iaculis ultrices magna, non porttitor lacus sagittis sed. Interdum et malesuada fames ac ante ipsum primis in faucibus. Nullam sollicitudin neque quis nisl egestas, eget euismod metus fringilla. In ornare porta leo sit amet fringilla. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Mauris nec sollicitudin lorem. Sed suscipit erat lectus, id scelerisque nisl aliquet quis. Duis vehicula, quam id suscipit elementum, arcu lectus tempus ligula, non convallis ligula tortor ac magna. In scelerisque mi blandit orci vestibulum, vel ultricies leo pharetra. Aenean vitae tempus massa, in tristique ligula. Proin et vulputate purus, sit amet aliquet felis. Nam venenatis est egestas, placerat nisi ut, luctus odio. Integer eget mattis urna, et iaculis ligula. Morbi eget orci erat. In eget cursus odio. Suspendisse id congue lorem. Nam vitae fringilla elit. Duis sit amet faucibus massa.
                </td>
              </tr>
            </table>
          </div>
        </div>
      </div>
  </div>

</div>
</section>


{% endblock %}
